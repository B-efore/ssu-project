# ssu-project
숭실대학교 컴퓨터학부 2022-1학기 전공 과제 정리

---

## 리눅스시스템프로그래밍

### 설계과제1
#### 과제 개요
파일/디렉토리의 이름과 경로를 받아 경로로부터 **파일/디렉토리를 탐색하고 이들을 비교**하는 프로그램. 조건에 맞는 파일/디렉토리를 출력하면 사용자는 출력된 파일/디렉토리 중 하나를 골라 원본 파일과의 비교를 진행할 수 있다. 비교를 수행하면 추가된 내용, 삭제된 내용, 수정된 내용이 출력되며, 파일의 내용이 같을 경우에는 아무 출력도 없다.

#### 명령어
```
find [FILENAME] [PATH]
>> [INDEX] [OPTION ...]
exit
help
```

#### 주요 명령어 설명
|명령어|옵션|설명|
|---|---|---|
|`find`||`[PATH]`로부터 탐색을 시작해 `[FILENAME]`과 이름과 크기가 동일한 모든 파일(디렉토리)을 리스트로 출력|
|`find`|`[FILENAME]`|특정 디렉토리 내에 존재하는 파일(디렉토리), 절대경로와 상대경로 모두 가능 (필수 입력)|
|`find`|`[PATH]`|탐색을 시작할 디렉토리 경로, 절대경로와 상대경로 모두 가능 (필수 입력)|
|>>|`[INDEX]` `[OPTION]`|0번째 파일과 `[INDEX]`번째 파일을 `[OPTION]`에 따라 비교한다|
|`[OPTION]`|q|두 파일 내용이 다른 경우 차이점 출력 없이 알림|
|`[OPTION]`|s|두 파일 내용이 동일한 경우 알림|
|`[OPTION]`|i|대소문자 구분 없이 비교 *(오류 존재)*|
|`[OPTION]`|r|디렉토리 비교 시 하위 디렉토리를 전부 재귀적으로 탐색해 모든 파일 비교 *(오류 존재)*|
|| | (각 옵션은 중복 사용이 가능하다.)|
|`exit`||프로그램 실행 시간을 출력한 뒤 종료한다.|
|`help`||프로그램 명령어 사용법을 출력한다.|

<br>

### 설계과제2
#### 과제 개요
사용자로부터 명령어를 입력받으면 **입력된 조건에 따라 시스템 내 존재하는 중복 파일을 탐색하고 삭제**하는 프로그램. 중복 파일은 해시값이 동일한 파일을 뜻하며, 해시값이 같은 파일을 세트로 하여 중복 파일 세트를 화면상에 출력한다. 출력된 목록에서 사용자는 옵션에 따라 파일을 선택적으로 삭제할 수 있다.
 
 #### 명령어
 ```
 fmd5 [FILE_EXTENSION] [MINSIZE] [MAXSIZE] [TARGET_DIRECTORY]
 fsha1 [FILE_EXTENSION] [MINSIZE] [MAXSIZE] [TARGET_DIRECTORY]
 >> [SET_INDEX] [OPTION ...]
 exit
 help
 ```
 
 #### 주요 명령어 설명
|명령어|옵션|설명|
|---|---|---|
|`fmd5`||MD5 해시값 사용 *(대용량 파일 탐색 오류)*|
|`fsha1`||SHA1 해시값 사용 *(대용량 파일 탐색 오류)*|
|`fmd5`, `fsha1`||`[TARGET_DIRECTORY]` 아래 모든 디렉토리에서 `[FILE_EXTENSION]`을 가지는 `[MINSIZE]`이상 `[MAXSIZE]`이하 중복 파일을 찾아 출력|
|`fmd5`, `fsha1`|`[FILE_EXTENSION]`|`*` 입력 시, 모든 정규 파일을 대상으로 탐색. `*.(확장자명)` 입력 시, (확장자명)을 가진 정규 파일을 대상으로 탐색 (필수 입력)|
|`fmd5`, `fsha1`|`[MINSIZE]`|탐색할 파일의 최소 크기를 설정. KB, MB, GB 단위 설정 가능하며 기본은 바이트 단위. `~` 입력 시, `[MAXSIZE]` 이하인 모든 파일에 대해 탐색 (필수 입력)|
|`fmd5`, `fsha1`|`[MAXSIZE]`|탐색할 파일의 최대 크기를 설정. KB, MB, GB 단위 설정 가능하며 기본은 바이트 단위. `~` 입력 시, `[MINSIZE]` 이상인 모든 파일에 대해 탐색 (필수 입력)|
|`fmd5`, `fsha1`|`[TARGET_DIRECTORY]`|탐색할 디렉토리 경로 설정. 절대경로와 `~(홈 디렉토리)`를 포함한 상대경로 모두 가능 (필수 입력)|
|>>|`[SET_INDEX]` `[OPTION ...]`|`[SET_INDEX]`에 해당하는 중복 파일 리스트에서 `[OPTION]`에 따라 중복 파일 삭제|
|`[OPTION]`|`d [LIST_IDX]`|선택한 세트에서 `[LIST_IDX]`에 해당하는 파일 삭제|
|`[OPTION]`|`i`|선택한 세트에 존재하는 파일의 절대 경로를 보여주며 삭제 여부 확인 후 파일 삭제 또는 유지 *(오류 존재)*|
|`[OPTION]`|`f`|가장 최근 수정한 파일을 남기고 전부 삭제|
|`[OPTION]`|`t`|가장 최근 수정한 파일을 남기고 전부 휴지통으로 이동|

<br>

### 설계과제3
사용자로부터 명령어를 입력받으면 **입력된 조건에 따라 시스템 내 존재하는 중복 파일을 탐색하고 관리**하는 프로그램. 탐색이 끝난 후에는 중복 파일 리스트 혹은 삭제 파일 리스트를 사용자가 입력한 카테고리에 맞추어 출력할 수 있다. 또한 삭제 파일 리스트에서 관리되고 있는 파일 및 디렉토리를 복원하는 것이 가능하다.

#### 명령어
```
fsha1 -e [FILE_EXTENSION] -l [MINSIZE] -h [MAXSIZE] -d [TARGET_DIRECTORY] -t [THREAD_NUM]
>> delete -l [SET_IDX] -d [LIST_IDX] -i -f -t
list -l [LIST_TYPE] -c [CATEGORY] -p [ORDER]
trash -c [CATEGORY] -o [ORDER]
restore [RESTORE_INDEX]
exit
help
```

 #### 주요 명령어 설명
|명령어|옵션|설명|
|---|---|---|
|`fsha1`||SHA1 해시값 사용|
|`fsha1`||옵션 설계과제2와 동일|
|`fsha1`|`[THREAD_NUM]`|탐색 과정에서 사용할 최대 쓰레드 개수 설정. 기본 1개, 최대 5개. *(미구현)*|
|>>|`delete`|`[SET_IDX]`에 해당하는 중복 파일 리스트에서 옵션에 따라 중복 파일 삭제|
||`[SET_IDX]`|중복 파일 리스트에서 삭제하고자 하는 세트 번호 (필수 입력)|
||`-d [LIST_IDX]`|선택한 세트에서 `LIST_IDX`에 해당하는 파일 삭제|
||`-i`|선택한 세트에 존재하는 파일의 절대 경로를 보여주며 삭제 여부 확인 후 파일 삭제 또는 유지|
||`-f`|가장 최근 수정한 파일을 남기고 전부 삭제|
||`-t`|가장 최근 수정한 파일을 남기고 전부 휴지통으로 이동
|`list`||중복 파일을 관리하는 연결 리스트를 출력|
|`list`|`[LIST_TYPE]`|옵션에 따라 세트 또는 리스트를 정렬. `fileset(세트)`, `filelist(리스트)`|
|`list`|`[CATEGORY]`|정렬할 카테고리를 설정. `filename(절대 경로)`, `size(크기)`, `uid(사용자ID)`, `gid(그룹ID)`, `mode(모드)`|
|`list`|`[ORDER]`|정렬할 기준을 설정. `-1(내림차순)`, `1(오름차순)`|
|`trash`||현재 관리하는 쓰레기통에 존재하는 파일 및 디렉토리 출력|
|`trash`|`[CATEGORY]`|정렬할 카테고리를 설정. `filename(절대 경로)`, `size(크기)`, `date(날짜)`, `time(시간)`|
|`trash`|`[ORDER]`|정렬할 기준을 설정. `-1(내림차순)`, `1(오름차순)`|
|`restore`|`[RESTORE_INDEX]`|쓰레기통에서 `[RESTORE_INDEX]`에 해당하는 파일을 복원|


<br>

### 개발 환경
```
Linux Ubuntu-20.04.4-desktop
gcc version 9.4.0
```

---

## 파일처리

개발 환경
```
Linux Ubuntu-18.04-desktop
gcc version 7.5
```

## 프로그래밍언어

개발 환경
```
Linux Ubuntu-20.04.4-desktop
gcc version 9.4.0
```
